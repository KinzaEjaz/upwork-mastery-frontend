{"version":3,"names":["NativeModules","Platform","IapAmazon","IapAndroid","IapIos","IapIosSk2","singleProductAndroidMap","offerToRecord","offerSk2Map","productSk2Map","subscriptionSk2Map","transactionSk2ToPurchaseMap","fillProductsWithAdditionalData","getAndroidModule","getAndroidModuleType","getIosModule","getNativeModule","isAmazon","isIosStorekit2","storekit1Mode","storekit2Mode","storekitHybridMode","ProductType","PurchaseStateAndroid","SubscriptionPlatform","RNIapIos","RNIapIosSk2","RNIapModule","RNIapAmazonModule","ANDROID_ITEM_TYPE_SUBSCRIPTION","subs","ANDROID_ITEM_TYPE_IAP","inapp","setup","storekitMode","arguments","length","undefined","initConnection","endConnection","flushFailedPurchasesCachedAsPendingAndroid","flushFailedPurchasesCachedAsPending","getProducts","_ref","skus","Promise","reject","select","ios","items","getItems","map","filter","item","includes","productId","android","products","getItemsByType","Error","getSubscriptions","_ref2","addSubscriptionPlatform","androidPlatform","subscriptions","castSubscriptions","amazon","platform","subscription","getPurchaseHistory","alsoPublishToEventListener","automaticallyFinishRestoredTransactions","onlyIncludeActiveItems","resolve","getAvailableItems","getPurchaseHistoryByType","concat","getAvailablePurchases","getAvailableItemsByType","requestPurchase","request","sku","andDangerouslyFinishTransactionAutomaticallyIOS","appAccountToken","quantity","withOffer","console","warn","offer","purchase","buyProduct","buyItemByType","obfuscatedAccountIdAndroid","obfuscatedProfileIdAndroid","isOfferPersonalized","requestSubscription","subscriptionOffers","purchaseTokenAndroid","prorationModeAndroid","so","offerToken","finishTransaction","_ref3","isConsumable","developerPayloadAndroid","transactionId","purchaseToken","consumeProduct","userIdAmazon","isAcknowledgedAndroid","purchaseStateAndroid","PURCHASED","acknowledgePurchase","deepLinkToSubscriptions","_ref4","isAmazonDevice","deepLinkToSubscriptionsIos","deepLinkToSubscriptionsAmazon","deepLinkToSubscriptionsAndroid"],"sourceRoot":"../../src","sources":["iap.ts"],"mappings":"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"}